% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analysis-anova.R
\name{kruskalPost}
\alias{kruskalPost}
\title{Post hoc tests for the Kruskal-Wallis test (Dunn p-values + Wilcoxon HL CIs)}
\usage{
kruskalPost(
  df,
  group = "group",
  y = "y",
  alpha = 0.05,
  pAdjust = "holm",
  ciAdjust = c("bonferroni", "none")
)
}
\arguments{
\item{df}{A long-format data frame.}

\item{group}{Name of the between-subject group column (character scalar).}

\item{y}{Name of the dependent variable column (character scalar).}

\item{alpha}{Family-wise alpha used for CI adjustment (default `0.05`).}

\item{pAdjust}{P-value adjustment method for multiple comparisons (default `"holm"`).
Passed to `rstatix::dunn_test()` and recorded in output.}

\item{ciAdjust}{CI adjustment method. One of `"bonferroni"` or `"none"`.}
}
\value{
A tibble with one row per pairwise contrast and the columns below.
}
\description{
Performs pairwise post hoc comparisons after a Kruskal-Wallis test.
}
\details{
- Adjusted p-values: `rstatix::dunn_test()` (default: Holm).
- Difference estimate and CI: `stats::wilcox.test()` between groups
  (Hodges-Lehmann location shift + CI).
- Effect size: rank-biserial r via `rstatix::wilcox_effsize()` (unpaired).
}
\section{Output columns}{

\describe{
  \item{analysis_method}{Analysis identifier string. Always `"kruskal_wallis_test"`.}
  \item{effect_term}{Effect label for schema alignment. Always `"group"`.}
  \item{comparison_kind}{Comparison family label. Always `"pairwise"`.}
  \item{contrast_label}{Human-readable label, e.g., `"A vs B"`.}
  \item{contrast_id}{Machine-readable id, e.g., `"group:A|B"`.}
  \item{group1}{First group label.}
  \item{group2}{Second group label.}
  \item{center_type}{Summary location type for each group. Always `"median"`.}
  \item{group1_center}{Median of `y` in `group1`.}
  \item{group2_center}{Median of `y` in `group2`.}
  \item{dispersion_type}{Summary dispersion type for each group. Always `"iqr"`.}
  \item{group1_dispersion}{IQR of `y` in `group1`.}
  \item{group2_dispersion}{IQR of `y` in `group2`.}
  \item{n_group1}{Number of non-missing observations in `group1`.}
  \item{n_group2}{Number of non-missing observations in `group2`.}
  \item{n_total}{Total observations used for the contrast (`n_group1 + n_group2`).}
  \item{difference_estimate}{Hodges-Lehmann location shift estimate (group1 - group2).}
  \item{difference_estimate_type}{Difference estimator label. Always `"hodges_lehmann_location_shift"`.}
  \item{difference_direction}{Difference direction label. Always `"group1_minus_group2"`.}
  \item{ci_low}{Lower bound of the CI for `difference_estimate`.}
  \item{ci_high}{Upper bound of the CI for `difference_estimate`.}
  \item{ci_level}{Confidence level used for the CI (possibly Bonferroni-adjusted).}
  \item{ci_adjustment}{CI adjustment label: `"bonferroni_adjusted"` or `"unadjusted"`.}
  \item{test_statistic}{Dunn test statistic value (Z).}
  \item{test_statistic_type}{Test statistic type. Always `"dunn_Z"`.}
  \item{df1}{Reserved (always `NA_real_` for this test family).}
  \item{df2}{Reserved (always `NA_real_` for this test family).}
  \item{p_value}{Raw p-value from Dunn test.}
  \item{p_value_adjusted}{Multiplicity-adjusted p-value from Dunn test.}
  \item{p_value_adjustment}{Adjustment label, e.g., `"holm_adjusted"`.}
  \item{effect_size}{Effect size value (rank-biserial r).}
  \item{effect_size_type}{Effect size type label. Always `"rank_biserial_r"`.}
  \item{effect_size_scale}{Effect size scale label. Always `"rank_based_r"`.}
  \item{effect_size_ci_low}{Reserved for effect size CI lower bound (currently `NA_real_`).}
  \item{effect_size_ci_high}{Reserved for effect size CI upper bound (currently `NA_real_`).}
}
}

\examples{
set.seed(30)
d = data.frame(
  group = factor(rep(c("A","B","C"), each = 20)),
  y = c(rlnorm(20, 3.8, 0.3), rlnorm(20, 3.9, 0.35), rlnorm(20, 4.1, 0.4))
)
kruskalPost(d, group = "group", y = "y")

}
