% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analysis-anova.R
\name{rm_anova_omnibus}
\alias{rm_anova_omnibus}
\title{Repeated-measures ANOVA (omnibus) with generalized eta-squared}
\usage{
rm_anova_omnibus(
  data,
  dv,
  within,
  id,
  missing = c("pairwise", "complete_case")
)
}
\arguments{
\item{data}{A data.frame in long format.}

\item{dv}{Dependent variable (numeric). Unquoted name or string.}

\item{within}{Within-subject factor. Unquoted name or string.}

\item{id}{Subject identifier. Unquoted name or string.}

\item{missing}{Missing-data strategy: \code{"pairwise"} (default) or \code{"complete_case"}.}
}
\value{
A one-row tibble (omnibus schema).
Columns:
\itemize{
  \item \code{design}: Design label (\code{"parametric_within"}).
  \item \code{method}: Omnibus method label (\code{"rm_anova"}).
  \item \code{term}: Name of the within-subject factor (the tested term).
  \item \code{statistic_type}: Type of omnibus test statistic (\code{"F"}).
  \item \code{statistic}: Omnibus test statistic value (F).
  \item \code{df1}: Numerator degrees of freedom for F.
  \item \code{df2}: Denominator degrees of freedom for F.
  \item \code{df}: Single df column (always \code{NA} for this test; included for schema consistency).
  \item \code{p}: Omnibus p-value.
  \item \code{effect_size}: Effect size value (generalized eta-squared).
  \item \code{effect_size_type}: Effect size label (\code{"ges"}).
  \item \code{missing}: Missing-data strategy used (\code{"pairwise"} or \code{"complete_case"}).
  \item \code{n_obs}: Number of rows (observations) used in the analysis after filtering for missingness.
  \item \code{n_id}: Number of unique IDs used in the analysis after filtering for missingness.
}
}
\description{
Performs the omnibus test for a one-factor repeated-measures ANOVA (within-subject design)
using \code{rstatix::anova_test()} and returns a tidy one-row tibble with a standardized
omnibus schema and generalized eta-squared (GES).
}
\details{
**Test**: One-way repeated-measures ANOVA (within-subject). \cr
**Statistic**: F with numerator/denominator df. \cr
**Effect size**: Generalized eta-squared (GES) computed by \code{rstatix::anova_test(effect.size = "ges")}.

\strong{Missing-data handling (\code{missing})}
\itemize{
  \item \code{"pairwise"} (default): Removes rows with missing DV/within/id (row-wise filtering).
  \item \code{"complete_case"}: After row-wise filtering, keeps only IDs that have non-missing DV values
  across all within-levels (complete blocks).
}
}
\examples{
dat = datasets::CO2 \%>\%
  dplyr::filter(Type == "Quebec", Treatment == "chilled") \%>\%
  dplyr::mutate(conc = factor(conc))

dat$uptake[dat$Plant == dat$Plant[1] & dat$conc == dat$conc[1]] = NA

rm_anova_omnibus(dat, dv = uptake, within = conc, id = Plant, missing = "pairwise")
rm_anova_omnibus(dat, dv = uptake, within = conc, id = Plant, missing = "complete_case")

}
