% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analysis-anova.R
\name{rmOmni}
\alias{rmOmni}
\title{Omnibus test for repeated-measures ANOVA (rm-ANOVA)}
\usage{
rmOmni(
  df,
  id = "id",
  group = "group",
  y = "y",
  correction = c("auto", "GG", "HF", "none")
)
}
\arguments{
\item{df}{A long-format data frame.}

\item{id}{Name of the subject identifier column (character scalar).}

\item{group}{Name of the within-subject condition column (character scalar).}

\item{y}{Name of the dependent variable column (character scalar).}

\item{correction}{Sphericity correction passed to `rstatix::get_anova_table()`.
One of `"auto"`, `"GG"`, `"HF"`, or `"none"`.
- `"auto"`: apply GG only when sphericity is violated.
- `"GG"`: report Greenhouse-Geisser corrected dfs/p-values (when applicable).
- `"HF"`: report Huynh-Feldt corrected dfs/p-values (when applicable).
- `"none"`: report uncorrected dfs/p-values.}
}
\value{
A tibble with one row (for the within-subject factor) and the columns below.
}
\description{
Runs a one-way repeated-measures ANOVA using `rstatix::anova_test()` and
returns a tibble in a standardized (method-agnostic) schema.
}
\details{
This function is intentionally designed for a *one-way* within-subject factor.
The output fixes `effect_term = "group"` to keep a consistent schema across
multiple omnibus/post-hoc methods.
}
\section{Output columns}{

\describe{
  \item{analysis_method}{Analysis identifier string. Always `"repeated_measures_anova"`.}
  \item{effect_term}{Effect label for schema alignment. Always `"group"`.}
  \item{test_statistic}{Omnibus test statistic value (F).}
  \item{test_statistic_type}{Omnibus test statistic type. Always `"F"`.}
  \item{df1}{Numerator degrees of freedom for the omnibus F-test (possibly corrected).}
  \item{df2}{Denominator degrees of freedom for the omnibus F-test (possibly corrected).}
  \item{p_value}{Omnibus p-value (possibly corrected).}
  \item{effect_size}{Omnibus effect size value (generalized eta-squared; GES).}
  \item{effect_size_type}{Effect size type label. Always `"generalized_eta_squared"`.}
  \item{effect_size_scale}{Effect size scale label. Always `"variance_explained"`.}
  \item{effect_size_ci_low}{Reserved for effect size CI lower bound (currently `NA_real_`).}
  \item{effect_size_ci_high}{Reserved for effect size CI upper bound (currently `NA_real_`).}
}
}

\examples{
set.seed(1)
n = 20
u = rnorm(n, 0, 4)
w = data.frame(
  id = factor(seq_len(n)),
  u  = u,
  A  = 50 + u + rnorm(n, 0, 5),
  B  = 55 + u + rnorm(n, 0, 5),
  C  = 60 + u + rnorm(n, 0, 5)
)
d = tidyr::pivot_longer(w, cols = c(A, B, C), names_to = "group", values_to = "y")
d$group = factor(d$group)
rmOmni(d, id = "id", group = "group", y = "y", correction = "auto")
rmOmni(d, id = "id", group = "group", y = "y", correction = "GG")

}
