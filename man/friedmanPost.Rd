% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analysis-anova.R
\name{friedmanPost}
\alias{friedmanPost}
\title{Post hoc tests for the Friedman test (paired Wilcoxon + Holm p-values)}
\usage{
friedmanPost(
  df,
  id = "id",
  group = "group",
  y = "y",
  alpha = 0.05,
  pAdjust = "holm",
  ciAdjust = c("bonferroni", "none")
)
}
\arguments{
\item{df}{A long-format data frame.}

\item{id}{Name of the subject identifier column (character scalar).}

\item{group}{Name of the within-subject condition column (character scalar).}

\item{y}{Name of the dependent variable column (character scalar).}

\item{alpha}{Family-wise alpha used for CI adjustment (default `0.05`).}

\item{pAdjust}{P-value adjustment method for multiple comparisons (default `"holm"`).
Must be accepted by `stats::p.adjust()`.}

\item{ciAdjust}{CI adjustment method. One of `"bonferroni"` or `"none"`.}
}
\value{
A tibble with one row per pairwise contrast and the columns below.
}
\description{
Performs pairwise post hoc comparisons for a one-way Friedman design.
}
\details{
- Difference estimate and CI: `stats::wilcox.test()` on paired differences
  (Hodges-Lehmann location shift + CI).
- Adjusted p-values: `stats::p.adjust()` (default: Holm).
- Effect size: rank-biserial r via `rstatix::wilcox_effsize()` (paired).
}
\section{Output columns}{

\describe{
  \item{analysis_method}{Analysis identifier string. Always `"friedman_test"`.}
  \item{effect_term}{Effect label for schema alignment. Always `"group"`.}
  \item{comparison_kind}{Comparison family label. Always `"pairwise"`.}
  \item{contrast_label}{Human-readable label, e.g., `"A vs B"`.}
  \item{contrast_id}{Machine-readable id, e.g., `"group:A|B"`.}
  \item{group1}{First condition label.}
  \item{group2}{Second condition label.}
  \item{center_type}{Summary location type for each condition. Always `"median"`.}
  \item{group1_center}{Median of `y` in `group1`.}
  \item{group2_center}{Median of `y` in `group2`.}
  \item{dispersion_type}{Summary dispersion type for each condition. Always `"iqr"`.}
  \item{group1_dispersion}{IQR of `y` in `group1`.}
  \item{group2_dispersion}{IQR of `y` in `group2`.}
  \item{n_group1}{Number of subjects with non-missing values in `group1`.}
  \item{n_group2}{Number of subjects with non-missing values in `group2`.}
  \item{n_total}{Number of complete paired observations used for the contrast.}
  \item{difference_estimate}{Hodges-Lehmann location shift estimate (group1 - group2).}
  \item{difference_estimate_type}{Difference estimator label. Always `"hodges_lehmann_location_shift"`.}
  \item{difference_direction}{Difference direction label. Always `"group1_minus_group2"`.}
  \item{ci_low}{Lower bound of the CI for `difference_estimate`.}
  \item{ci_high}{Upper bound of the CI for `difference_estimate`.}
  \item{ci_level}{Confidence level used for the CI (possibly Bonferroni-adjusted).}
  \item{ci_adjustment}{CI adjustment label: `"bonferroni_adjusted"` or `"unadjusted"`.}
  \item{test_statistic}{Wilcoxon signed-rank statistic value (V).}
  \item{test_statistic_type}{Test statistic type. Always `"wilcoxon_V"`.}
  \item{df1}{Reserved (always `NA_real_` for this test family).}
  \item{df2}{Reserved (always `NA_real_` for this test family).}
  \item{p_value}{Raw p-value from the paired Wilcoxon test.}
  \item{p_value_adjusted}{Multiplicity-adjusted p-value (via `pAdjust`).}
  \item{p_value_adjustment}{Adjustment label, e.g., `"holm_adjusted"`.}
  \item{effect_size}{Effect size value (rank-biserial r).}
  \item{effect_size_type}{Effect size type label. Always `"rank_biserial_r"`.}
  \item{effect_size_scale}{Effect size scale label. Always `"rank_based_r"`.}
  \item{effect_size_ci_low}{Reserved for effect size CI lower bound (currently `NA_real_`).}
  \item{effect_size_ci_high}{Reserved for effect size CI upper bound (currently `NA_real_`).}
}
}

\examples{
set.seed(22)
n = 20
u = rnorm(n, 0, 0.25)
w = data.frame(
  id = factor(seq_len(n)),
  A = rlnorm(n, meanlog = 3.7, sdlog = 0.25) * exp(u),
  B = rlnorm(n, meanlog = 3.9, sdlog = 0.25) * exp(u),
  C = rlnorm(n, meanlog = 4.0, sdlog = 0.25) * exp(u)
)
d = tidyr::pivot_longer(w, cols = c(A, B, C), names_to = "group", values_to = "y")
d$group = factor(d$group)
friedmanPost(d, id = "id", group = "group", y = "y")

}
